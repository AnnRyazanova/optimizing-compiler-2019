# Живые и мертвые переменные внутри ББЛ

## Постановка задачи
Необходимо реализовать алгоритм определения "живых" переменных и удаления "мертвого" кода

## Команда — исполнитель
TZ

## Зависимости
От данной задачи зависят:

- Удаление мертвого кода на основе ИТА для активных пременных

## Теория
Основная идея заключается в следующем: осуществляется проход по элемента трехадресного кода в рамках одного базового блока. Переменная может быть активной или неактивной, изначально все переменные считаются активными, поскольку они могут быть использованы в других блоках. Удаляем элементы трехадресного кода, которые являются присваиванием. Переменная, которой присваивается значение, является неактивной. Если же переменная используется в правой части, она помечается как активная.

## Реализация
Был создан класс _DeadCodeOptimization_. Информация о состояниях переменных хранится в `Dictionary<string,bool>`, где ключом является название переменной, а значением флаг, где `true` - переменная жива.
Основной цикл выполняет одну итерацию удаления. Учитывая возможную каскадность данной операции, имеет смысл вызывать оптимизацию, до тех пор, пока функция не вернет `false`.
```csharp
public bool Optimize(ThreeAddressCode block)
        {
            LinkedList<TacNode> deadCodeList = GetDeadCode(block);
            if (deadCodeList.Count == 0)
                return false;
            else
            {
                block.RemoveNodes(deadCodeList);
                return true;
            }
        }
```

## Вывод
Используя метод, описанные выше, мы смогли определять "живые" переменные и удалять "мертвый" код.
